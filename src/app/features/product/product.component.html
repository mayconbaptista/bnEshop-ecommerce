<main class="my-16 max-w-screen-lg mx-auto px-6">
  @if (product$ | async; as product) {
  <section class="flex flex-col md:flex-row gap-4 rounded-lg shadow-md">
    <article class="grid place-content-center bg-gray-100 p-6">
      <div class="relative size-64 sm:size-72 lg:size-96">
        @if (product?.urlImg) {
        <img
          class="object-contain object-center"
          [src]="product.urlImg"
          alt="Product Image"
          priority
          fill
        />
        }@else {
        <img
          priority
          fill
          ngSrc="/img/placeholder.jpg"
          alt="Placeholder Image"
        />
        }
      </div>
    </article>
    <article class="p-6">
      <h1 class="font-bold text-3xl">{{ product.name }}</h1>
      <div class="flex gap-2 mt-3">
        <div class="flex items-center gap-1">
          <svg
            class="size-4 text-yellow-300"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 576 512"
          >
            <path
              d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"
            />
          </svg>
          <svg
            class="size-4 text-yellow-300"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 576 512"
          >
            <path
              d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"
            />
          </svg>
          <svg
            class="size-4 text-yellow-300"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 576 512"
          >
            <path
              d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"
            />
          </svg>
          <svg
            class="size-4 text-yellow-300"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 576 512"
          >
            <path
              d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"
            />
          </svg>
          <svg
            class="size-4 text-yellow-300"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 576 512"
          >
            <path
              d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"
            />
          </svg>
        </div>
        <p class="border-l border-gray-500 text-gray-500 ps-2 text-sm">
          {{ product.reviews }} reviews
        </p>
      </div>
      <div class="mt-5 flex gap-2 items-baseline font-bold">
        <h3 class="text-3xl md:text-5xl">{{ product.price | currency }}</h3>
        @if (product.previousPrice) {
        <h3 class="text-gray-500 text-xl md:text-2xl line-through">
          {{ product.previousPrice | currency }}
        </h3>
        }
      </div>
      <div
        class="mt-5 text-gray-500 format-strong:text-gray-700 format-li:mb-2 format-p:mb-4"
        [innerHTML]="product.description"
      ></div>
      <div class="mt-5 flex gap-2">
        <button
          (click)="addToCart(product)"
          class="w-full rounded-md focus:ring-4 focus:ring-yellow-200 bg-gradient-to-tl from-yellow-500 to-yellow-400 text-white px-4 py-2 font-bold"
        >
          Add To Cart
        </button>
        <button
          type="button"
          class="py-2 px-4 inline-flex items-center justify-center text-gray-500 hover:text-gray-900 hover:underline bg-gradient-to-tl from-gray-200 to-gray-50 focus:ring-4 focus:ring-gray-100 rounded-md"
        >
          <svg
            class="size-6"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12.01 6.001C6.5 1 1 8 5.782 13.001L12.011 20l6.23-7C23 8 17.5 1 12.01 6.002Z"
            />
          </svg>
        </button>
      </div>
    </article>
  </section>
  } @else {
  <div class="text-center py-10">
    <h2 class="text-2xl font-bold">Loading product...</h2>
  </div>
  }
</main>
